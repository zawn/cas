---
layout: 违约
title: CAS - 网络流自定义
category: 网络流管理
---

# 网络流自定义

CAS 使用 [春季网络流](http://projects.spring.io/spring-webflow) 来编写 *脚本* 登录和注销协议的处理。 春季网络流建立在春季 MVC 上，并允许实现 Web 应用程序的"流"。 流将一系列 步骤封装在一起，这些步骤引导用户执行某些业务任务。 它跨越多个 HTTP 请求，具有状态，处理 事务数据，可重复使用，并且可能是动态的和长期运行的。 每个流程可能包含以下主要元素的许多其他设置：

- 操作：描述可执行任务并返回结果的组件
- 过渡：将流程从一个状态路由到另一个状态;过渡可能是全球性的到整个流程。
- 视图：描述显示回客户端的演示层的组件
- 决策：有条件地路由到其他流程区域并做出逻辑决策的组件

Spring Web Flow 为 CAS 提供了一个可插入式架构，其中自定义操作、视图和决策可能会注入到 流中，以考虑其他使用案例和流程。 请注意， <strong>定制网络流时，必须具备对网络流内部和注入政策</strong>的合理理解。 本文档的目的不是描述春季网络流，而只是演示中科院如何利用该框架执行协议的各个方面和业务逻辑执行。

## 网络流会话

有关详细信息，请参阅本指南</a>。</p> 



## 网络流自动配置

大多数 CAS 模块在被宣布为依赖时，会尝试自动配置 CAS 网络流以满足其需求。 这实际上意味着 CAS 采用者将不再需要手动按摩 CAS 网络流配置， 模块会自动处理所有需要的更改。 虽然这是默认行为，但您可能需要手动处理所有这些更改 。 为此，您需要禁用网络流的 CAS 自动配置 。

要查看 CAS 属性的相关列表，请 [查看本指南](../configuration/Configuration-Properties.html#spring-webflow)。

<div class="alert alert-warning"><strong>阿赫通，莱贝·莱瑟！</strong><p>仅尝试在绝对必要时 
手工修改 Spring 网络流配置文件，并且
更改相当小或装饰性。 网络流的广泛修改，如果不仔细
可能会严重复杂化您的部署和未来的升级。 如果合理，考虑贡献或
建议对项目进行更改，并直接维护项目。</p></div>

CAS 默认配置为对春季网络流配置进行热重载更改。



## 扩展网络流

如果您想了解如何修改和扩展 CAS 认证流程，请参阅本指南</a>。</p> 



## 行政终点

CAS 提供以下端点：

| 端点      | 描述                                                                    |
| ------- | --------------------------------------------------------------------- |
| `春季网络流` | 提供 CAS 认证网络流的 JSON 表示。 端点可以接受 `流id` 参数作为 `GET` 操作的一部分，仅显示请求流量 ID 的流体。 |




## 网络流装饰

了解如何从外部数据源和端点动态获取和显示数据，并通过 [查看本指南](Webflow-Customization-Extensions.html)将这些数据传递到 Webflow。



## 认证所需服务

默认情况下，如果初始身份验证请求未识别目标应用程序 ，CAS 将呈现通用成功页面。 在某些情况下，在不登录 的情况下登录 CAS 的能力可能被视为一种错误行为，因为实际上， 的用户和机构太少，他们愿意理解、品牌和支持充其量只是登录 CAS 的边缘使用案例，以便 建立 SSO 会话而不登录任何 CAS 依赖的服务。

因此，CAS 可选地允许采用者在 未提交目标应用程序时不必费心提示凭据，而是在用户直接访问 CAS 时发送消息，而无需指定服务。

要查看 CAS 属性的相关列表，请 [查看本指南](../configuration/Configuration-Properties.html#global-sso-behavior)。



## 可接受的使用策略

CAS 提供允许用户在进入应用程序之前接受使用策略的能力。 有关详细信息，请参阅本指南</a> 。</p> 



## 自定义错误

有关详细信息，请参阅本指南</a> 。</p> 



## 自定义设置

所有 Webflow 组件和 CAS 视图都有权访问从各种配置源定义的 CAS 设置的整个捆绑包。 这允许使用可变 `casPropers` 来扩展和修改任何 CAS 视图或 Webflow 组件，以访问特定设置。 请记住，此语法仅允许访问 CAS</em> 拥有 *的设置，并按其自身的前缀注明。</p> 

要查看 CAS 属性的相关列表，请 [查看本指南](../configuration/Configuration-Properties.html#custom-settings)。



## 故障 排除

要启用其他日志，请修改记录配置文件以添加以下：



```xml
<Logger name="org.springframework.webflow" level="debug" additivity="false">
    <AppenderRef ref="casConsole"/>
    <AppenderRef ref="casFile"/>
</Logger>
```

